# Data Models

The weather station system uses Pydantic models for type-safe data handling. These models ensure data integrity and provide automatic validation.

## SensorReading

Represents an individual sensor reading with timestamp and measurements.

```python
class SensorReading(BaseModel):
    timestamp: datetime
    temperature_celsius: float
    humidity_percent: float
    pressure_hpa: float
    wind_speed_ms: Optional[float]
    wind_direction_degrees: Optional[float]
    rain_mm: Optional[float]
```

### Fields

- `timestamp`: UTC timestamp of the reading (auto-generated if not provided)
- `temperature_celsius`: Temperature in Celsius
- `humidity_percent`: Relative humidity (0-100%)
- `pressure_hpa`: Atmospheric pressure in hectopascals (hPa)
- `wind_speed_ms`: Wind speed in meters per second (optional)
- `wind_direction_degrees`: Wind direction in degrees (0-359, optional)
- `rain_mm`: Rainfall in millimeters (optional)

## WeatherStation

Contains configuration and metadata for a weather station.

```python
class WeatherStation(BaseModel):
    station_id: str
    name: str
    latitude: float
    longitude: float
    altitude_meters: float
    last_reading: Optional[SensorReading]
```

### Fields

- `station_id`: Unique identifier for the weather station
- `name`: Human-readable station name
- `latitude`: Station latitude (-90 to 90)
- `longitude`: Station longitude (-180 to 180)
- `altitude_meters`: Station altitude above sea level
- `last_reading`: Most recent sensor reading (optional)

## WeatherAlert

Represents weather alerts or warnings generated by the system.

```python
class WeatherAlert(BaseModel):
    alert_id: str
    station_id: str
    timestamp: datetime
    alert_type: str
    severity: str
    message: str
    reading: SensorReading
```

### Fields

- `alert_id`: Unique identifier for the alert
- `station_id`: ID of the station that triggered the alert
- `timestamp`: UTC timestamp when the alert was generated
- `alert_type`: Type of alert (e.g., 'high_temperature', 'storm_warning')
- `severity`: Alert severity level
- `message`: Human-readable alert description
- `reading`: Sensor reading that triggered the alert

## Usage Example

```python
from datetime import datetime, UTC
from weather_station.models import SensorReading, WeatherStation, WeatherAlert

# Create a sensor reading
reading = SensorReading(
    timestamp=datetime.now(UTC),
    temperature_celsius=25.5,
    humidity_percent=65.0,
    pressure_hpa=1013.25,
    wind_speed_ms=5.0,
    wind_direction_degrees=180.0,
    rain_mm=0.0
)

# Create a weather station
station = WeatherStation(
    station_id="station-001",
    name="Rooftop Weather Station",
    latitude=51.5074,
    longitude=-0.1278,
    altitude_meters=100.0,
    last_reading=reading
)

# Create a weather alert
alert = WeatherAlert(
    alert_id="alert-001",
    station_id=station.station_id,
    alert_type="high_temperature",
    severity="warning",
    message="Temperature exceeds 25Â°C",
    reading=reading
)
```

## Validation

All models include built-in validation:

- Temperature has no explicit bounds but should be reasonable for Earth weather
- Humidity is constrained between 0 and 100%
- Wind direction must be between 0 and 359 degrees
- Latitude must be between -90 and 90 degrees
- Longitude must be between -180 and 180 degrees
- Rainfall and wind speed must be non-negative

Invalid values will raise `ValidationError` exceptions.
